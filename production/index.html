<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com; img-src 'self' data: https: blob:; font-src 'self' data: https://fonts.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; connect-src 'self' ws: wss: http://localhost:* https://api.example.com https://*.googleapis.com; frame-src 'self' https://www.youtube.com https://player.vimeo.com; media-src 'self' https: blob:; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
	<link rel="icon" href="images/favicon.svg" type="image/svg+xml">
	<link rel="icon" href="images/favicon-32x32.svg" type="image/svg+xml" sizes="32x32">
	<link rel="icon" href="images/favicon-16x16.svg" type="image/svg+xml" sizes="16x16">
	<link rel="icon" href="images/favicon.ico" type="image/x-icon">
	
	<!-- Apple Touch Icon -->
	<link rel="apple-touch-icon" href="images/apple-touch-icon.svg" sizes="180x180">
	
	<!-- Android/Chrome -->
	<link rel="manifest" href="site.webmanifest">
	
	<!-- Theme colors -->
	<meta name="theme-color" content="rgb(42, 63, 84)">
	<meta name="msapplication-TileColor" content="rgb(42, 63, 84)">

    <title>Dashboard - RISQIANT</title>

    <!-- Vite Entry Point - will bundle all styles -->
    <script type="module" src="/src/main-minimal-modern.js"></script>
  </head>

  <body class="nav-md page-index">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="index.html" class="site_title"><img src="images/logo.svg" alt="RISQIANT" class="logo-full" style="height: 40px;"><img src="images/logo-icon.svg" alt="RISQIANT" class="logo-icon" style="height: 30px; display: none;"></a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_pic">
                <img src="images/img.jpg" alt="..." class="img-circle profile_img">
              </div>
              <div class="profile_info">
                <span>Welcome,</span>
                <h4>Security Officer</h4>
              </div>
            </div>
            <!-- /menu profile quick info -->

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <h3>General</h3>
                <ul class="nav side-menu">
                  <li><a href="index.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                  <li><a><i class="fas fa-shield-alt"></i> Risk Assessment <span class="fas fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                        <li><a href="vulnerabilities.html">Attack Surface</a></li>
                        <li><a href="vulnerabilities.html">Vulnerabilities</a></li>
                        <li><a href="risk_assessment.html">Risk Register</a></li>
                    </ul>
                  </li>
                  <li><a><i class="fas fa-check-circle"></i> Compliance <span class="fas fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="compliance_soc2.html">SOC 2</a></li>
                      <li><a href="compliance_pci.html">PCI-DSS</a></li>
                      <li><a href="compliance_iso27001.html">ISO 27001</a></li>
                    </ul>
                  </li>
                  <li><a href="evidence_vault.html"><i class="fas fa-archive"></i> Evidence Library</a></li>
                  <li><a href="remediation.html"><i class="fas fa-lightbulb"></i> Remediation Center</a></li>
                </ul>
              </div>
            </div>
            <!-- /sidebar menu -->

            <!-- /menu footer buttons -->
            <div class="sidebar-footer hidden-small">
              <a data-bs-toggle="tooltip" data-bs-placement="top" title="Settings">
                <span class="fas fa-cog" aria-hidden="true"></span>
              </a>
              <a data-bs-toggle="tooltip" data-bs-placement="top" title="FullScreen">
                <span class="fas fa-expand" aria-hidden="true"></span>
              </a>
              <a data-bs-toggle="tooltip" data-bs-placement="top" title="Lock">
                <span class="fas fa-eye-slash" aria-hidden="true"></span>
              </a>
              <a data-bs-toggle="tooltip" data-bs-placement="top" title="Logout" href="login.html">
                <span class="fas fa-power-off" aria-hidden="true"></span>
              </a>
            </div>
            <!-- /menu footer buttons -->
          </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fas fa-bars"></i></a>
              </div>
              <nav class="nav navbar-nav">
              <ul class="navbar-right">
                <li class="nav-item dropdown open" style="padding-left: 15px;">
                  <a href="javascript:;" class="user-profile dropdown-toggle" aria-haspopup="true" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="images/img.jpg" alt="">John Doe
                  </a>
                  <div class="dropdown-menu dropdown-usermenu float-end" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item"  href="javascript:;"> Profile</a>
                      <a class="dropdown-item"  href="javascript:;">
                        <span class="badge bg-red float-end">50%</span>
                        <span>Settings</span>
                      </a>
                  <a class="dropdown-item"  href="javascript:;">Help</a>
                    <a class="dropdown-item"  href="login.html"><i class="fas fa-sign-out-alt float-end"></i> Log Out</a>
                  </div>

                <li role="presentation" class="nav-item dropdown open">
                  <a href="javascript:;" class="dropdown-toggle info-number" id="navbarDropdown1" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-bell"></i>
                    <span class="badge bg-green">6</span>
                  </a>
                  <ul class="dropdown-menu list-unstyled msg_list" role="menu" aria-labelledby="navbarDropdown1">
                    <li class="nav-item">
                      <a class="dropdown-item">
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>System Monitor</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          High severity drift detected in S3 bucket configuration...
                        </span>
                      </a>
                    <li class="nav-item">
                      <div class="text-center">
                        <a class="dropdown-item">
                          <strong>See All Alerts</strong>
                          <i class="fas fa-angle-right"></i>
                        </a>
                      </div>
                  </ul>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          <!-- top tiles -->
          <div class="row gy-4 mb-4">
            <div class="col-xl-3 col-md-6 col-sm-6">
                <div class="card shadow-sm h-100 border-start border-danger border-4">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-danger text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                    <i class="fas fa-exclamation-triangle fs-4"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="text-muted text-uppercase mb-1 small">Total Risk Score</h6>
                                <h4 class="mb-0">742</h4>
                            </div>
                        </div>
                        <div class="mt-2 pt-2 border-top">
                            <small class="text-danger me-1"><i class="fas fa-arrow-up"></i> 12%</small>
                            <small class="text-muted">High Risk Alert</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6 col-sm-6">
                <div class="card shadow-sm h-100 border-start border-primary border-4">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                    <i class="fas fa-tasks fs-4"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="text-muted text-uppercase mb-1 small">Compliance % (Global)</h6>
                                <h4 class="mb-0">82.4%</h4>
                            </div>
                        </div>
                        <div class="mt-2 pt-2 border-top">
                            <small class="text-success me-1"><i class="fas fa-arrow-up"></i> 3.5%</small>
                            <small class="text-muted">Improving Trend</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6 col-sm-6">
                <div class="card shadow-sm h-100 border-start border-warning border-4">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-warning text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                    <i class="fas fa-bug fs-4"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="text-muted text-uppercase mb-1 small">Open Vulnerabilities</h6>
                                <h4 class="mb-0">156</h4>
                            </div>
                        </div>
                        <div class="mt-2 pt-2 border-top">
                            <small class="text-warning me-1">42 Critical</small>
                            <small class="text-muted">Requires AI Action</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6 col-sm-6">
                <div class="card shadow-sm h-100 border-start border-info border-4">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
                                <div class="bg-info text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                    <i class="fas fa-file-contract fs-4"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="text-muted text-uppercase mb-1 small">Pending Evidence</h6>
                                <h4 class="mb-0">12</h4>
                            </div>
                        </div>
                        <div class="mt-2 pt-2 border-top">
                            <small class="text-info me-1">Auto-collection in progress</small>
                        </div>
                    </div>
                </div>
            </div>
          </div>
          <!-- /top tiles -->

          <div class="row">
            <div class="col-md-12 col-sm-12">
              <div class="dashboard_graph">

                <div class="row x_title">
                  <div class="col-md-6">
                    <h3>Compliance Trend <small>Global Posture (Last 6 Months)</small></h3>
                  </div>
                  <div class="col-md-6">
                    <!-- Date picker removed for simplicity -->
                  </div>
                </div>

                <div class="col-md-9 col-sm-9">
                  <div id="chart_plot_01" class="demo-placeholder" style="height: 350px;"></div>
                </div>
                <div class="col-md-3 col-sm-3 bg-white">
                  <div class="x_title">
                    <h4>Risk by Framework</h4>
                    <div class="clearfix"></div>
                  </div>

                  <div class="col-md-12 col-sm-12">
                    <div style="text-align: center; margin-bottom: 15px;">
                      <canvas id="risk_distribution_chart" height="220"></canvas>
                    </div>
                    <div>
                      <ul class="list-unstyled top_profiles scroll-view">
                        <li class="media event">
                          <a class="pull-left border-aero profile_thumb">
                            <i class="fas fa-shield-alt aero"></i>
                          </a>
                          <div class="media-body">
                            <a class="title" href="#">SOC 2 Type II</a>
                            <p><strong>92%</strong> Compliant</p>
                          </div>
                        </li>
                        <li class="media event">
                          <a class="pull-left border-green profile_thumb">
                            <i class="fas fa-credit-card green"></i>
                          </a>
                          <div class="media-body">
                            <a class="title" href="#">PCI DSS</a>
                            <p><strong>85%</strong> Compliant</p>
                          </div>
                        </li>
                        <li class="media event">
                          <a class="pull-left border-blue profile_thumb">
                            <i class="fas fa-globe blue"></i>
                          </a>
                          <div class="media-body">
                            <a class="title" href="#">ISO 27001</a>
                            <p><strong>78%</strong> Compliant</p>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>

                </div>

                <div class="clearfix"></div>
              </div>
            </div>

          </div>
          <br />

          <!-- Recent Alerts and Critical Vulnerabilities -->
          <div class="row">
            <div class="col-md-4 col-sm-4">
              <div class="x_panel">
                <div class="x_title">
                  <h4>Recent Security Alerts <small>Audit Log</small></h4>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fas fa-chevron-up"></i></a></li>
                    <li><a class="close-link"><i class="fas fa-times"></i></a></li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <div class="dashboard-widget-content">
                    <ul class="list-unstyled timeline widget">
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h5 class="title">
                              <a><i class="fas fa-server" style="color: #E74C3C; margin-right: 8px;"></i>High Severity Drift</a>
                            </h5>
                            <div class="byline">
                              <span>12 mins ago</span> by <a>System Monitor</a>
                            </div>
                            <p class="excerpt">S3 Bucket "risqiant-prod-logs" detected as public. Lighthouse AI has generated a remediation plan. <a>View Remediation</a></p>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h5 class="title">
                              <a><i class="fas fa-user-shield" style="color: #3498DB; margin-right: 8px;"></i>MFA Disabled</a>
                            </h5>
                            <div class="byline">
                              <span>45 mins ago</span> by <a>IAM Sentinel</a>
                            </div>
                            <p class="excerpt">User "admin_dev" disabled MFA. Auto-reverted by policy enforcement. Incident ticket #SEC-2026-004 created.</p>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h5 class="title">
                              <a><i class="fas fa-bug" style="color: #F39C12; margin-right: 8px;"></i>New Vulnerability</a>
                            </h5>
                            <div class="byline">
                              <span>2 hours ago</span> by <a>Scanner</a>
                            </div>
                            <p class="excerpt">CVE-2026-1045 detected in container image `frontend:v2.4`. CVSS Score: 7.8 (High). <a>View Details</a></p>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h5 class="title">
                              <a><i class="fas fa-check-circle" style="color: #26B99A; margin-right: 8px;"></i>Compliance Check</a>
                            </h5>
                            <div class="byline">
                              <span>4 hours ago</span> by <a>SOC 2 Automation</a>
                            </div>
                            <p class="excerpt">Daily SOC 2 automated evidence collection completed. 98% of controls verified successfully.</p>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- Critical Vulnerabilities Table -->
            <div class="col-md-8 col-sm-8">
              <div class="x_panel">
                <div class="x_title">
                  <h4>Critical Vulnerabilities <small>Prioritized for Remediation</small></h4>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fas fa-chevron-up"></i></a></li>
                    <li><a class="close-link"><i class="fas fa-times"></i></a></li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <div class="table-responsive">
                    <table class="table table-striped jambo_table bulk_action">
                      <thead>
                        <tr class="headings">
                          <th class="column-title">CVE ID </th>
                          <th class="column-title">Asset </th>
                          <th class="column-title">Severity </th>
                          <th class="column-title">Status </th>
                          <th class="column-title">Detected </th>
                          <th class="column-title last"><span class="nobr">Action</span></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="even pointer">
                          <td class=" "><strong class="text-danger">CVE-2026-0142</strong></td>
                          <td class=" ">prod-db-cluster-01</td>
                          <td class=" "><span class="badge bg-danger">Critical (9.8)</span></td>
                          <td class=" "><span class="badge bg-warning text-dark">Pending AI Fix</span></td>
                          <td class=" ">Jan 08, 2026</td>
                          <td class=" last"><a href="remediation.html" class="btn btn-sm btn-primary">Remediate</a></td>
                        </tr>
                        <tr class="odd pointer">
                          <td class=" "><strong>CVE-2025-9833</strong></td>
                          <td class=" ">api-gateway-alb</td>
                          <td class=" "><span class="badge bg-danger">High (8.2)</span></td>
                          <td class=" "><span class="badge bg-info">Patch Scheduled</span></td>
                          <td class=" ">Jan 07, 2026</td>
                          <td class=" last"><a href="#" class="btn btn-sm btn-secondary">Details</a></td>
                        </tr>
                        <tr class="even pointer">
                          <td class=" "><strong>CVE-2025-9011</strong></td>
                          <td class=" ">worker-node-04</td>
                          <td class=" "><span class="badge bg-warning text-dark">Medium (6.5)</span></td>
                          <td class=" "><span class="badge bg-success">Mitigated</span></td>
                          <td class=" ">Jan 06, 2026</td>
                          <td class=" last"><a href="#" class="btn btn-sm btn-secondary">Details</a></td>
                        </tr>
                        <tr class="odd pointer">
                          <td class=" "><strong>Misconfig-S3</strong></td>
                          <td class=" ">backup-archive-2025</td>
                          <td class=" "><span class="badge bg-danger">High (8.0)</span></td>
                          <td class=" "><span class="badge bg-danger">Open</span></td>
                          <td class=" ">Jan 08, 2026</td>
                          <td class=" last"><a href="remediation.html" class="btn btn-sm btn-primary">Fix Now</a></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
        <!-- /page content -->

        <!-- footer content -->
        <footer>
          <div class="float-end">
            RISQIANT - Autonomous Security Manager
          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    </div>

    <!-- Chart Logic -->
    <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      
      // Compliance Trend Chart
      function initializeComplianceChart() {
        const container = document.getElementById('chart_plot_01');
        if (!container) return;
        
        const canvas = document.createElement('canvas');
        canvas.width = container.offsetWidth || 800;
        canvas.height = 350;
        container.innerHTML = ''; 
        container.appendChild(canvas);
        
        const ctx = canvas.getContext('2d');
        if (!ctx) return;

        // Data for Last 6 Months (Jul 2025 - Jan 2026)
        const chartData = {
          labels: ['Aug 2025', 'Sep 2025', 'Oct 2025', 'Nov 2025', 'Dec 2025', 'Jan 2026'],
          datasets: [{
            label: 'Overall Compliance %',
            data: [65, 70, 72, 78, 80, 82.4],
            borderColor: '#1ABB9C',
            backgroundColor: 'rgba(26, 187, 156, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          }, {
            label: 'Risk Score (Normalized)',
            data: [85, 80, 78, 70, 65, 60], // Lower is better
            borderColor: '#E74C3C',
            backgroundColor: 'rgba(231, 76, 60, 0.0)',
            borderWidth: 2,
            borderDash: [5, 5],
            fill: false,
            tension: 0.4
          }]
        };

        const config = {
          type: 'line',
          data: chartData,
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: 'top',
              },
              title: {
                display: false,
                text: 'Compliance Trend'
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                max: 100,
                grid: {
                  color: 'rgba(0,0,0,0.05)'
                }
              },
              x: {
                grid: {
                  color: 'rgba(0,0,0,0.05)'
                }
              }
            }
          }
        };

        new Chart(ctx, config);
      }

      // Risk Distribution Chart
      function initializeRiskChart() {
        const canvas = document.getElementById('risk_distribution_chart');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');

        const data = {
          labels: ['SOC 2', 'PCI DSS', 'ISO 27001', 'Internal'],
          datasets: [{
            data: [30, 25, 20, 25],
            backgroundColor: ['#3498DB', '#26B99A', '#9B59B6', '#E74C3C'],
            borderWidth: 0
          }]
        };

        const config = {
          type: 'doughnut',
          data: data,
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '60%',
            plugins: {
              legend: {
                display: false
              },
              tooltip: {
                enabled: true
              }
            }
          }
        };

        new Chart(ctx, config);
      }

      // Wait for Chart.js
      function waitForChart() {
        if (typeof window.Chart !== 'undefined') {
          try {
            initializeComplianceChart();
            initializeRiskChart();
          } catch (error) {
            console.error("Chart init error:", error);
          }
        } else {
          setTimeout(waitForChart, 50);
        }
      }
      
      waitForChart();
    });
    </script>
  </body>
</html>