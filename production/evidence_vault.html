<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com; img-src 'self' data: https: blob:; font-src 'self' data: https://fonts.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; connect-src 'self' ws: wss: http://localhost:* https://api.example.com https://*.googleapis.com; frame-src 'self' https://www.youtube.com https://player.vimeo.com; media-src 'self' https: blob:; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
	<link rel="icon" href="images/favicon.svg" type="image/svg+xml">
	<link rel="icon" href="images/favicon-32x32.svg" type="image/svg+xml" sizes="32x32">
	<link rel="icon" href="images/favicon-16x16.svg" type="image/svg+xml" sizes="16x16">
	<link rel="icon" href="images/favicon.ico" type="image/x-icon">
	
	<!-- Apple Touch Icon -->
	<link rel="apple-touch-icon" href="images/apple-touch-icon.svg" sizes="180x180">
	
	<!-- Android/Chrome -->
	<link rel="manifest" href="site.webmanifest">
	
	<!-- Theme colors -->
	<meta name="theme-color" content="rgb(42, 63, 84)">
	<meta name="msapplication-TileColor" content="rgb(42, 63, 84)">

    <title>Evidence Vault - RISQIANT</title>

    <!-- Vite Entry Point -->
    <script type="module" src="/src/main-minimal-modern.js"></script>
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  </head>

  <body class="nav-md page-index">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="index.html" class="site_title"><img src="images/logo.svg" alt="RISQIANT" class="logo-full" style="height: 40px;"><img src="images/logo-icon.svg" alt="RISQIANT" class="logo-icon" style="height: 30px; display: none;"></a>
            </div>
            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_pic">
                <img src="images/img.jpg" alt="..." class="img-circle profile_img">
              </div>
              <div class="profile_info">
                <span>Welcome,</span>
                <h4>Admin User</h4>
              </div>
            </div>
            <!-- /menu profile quick info -->
            <br />
            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <h3>General</h3>
                <ul class="nav side-menu">
                  <li><a href="index.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                  <li><a><i class="fas fa-shield-alt"></i> Risk Assessment <span class="fas fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                        <li><a href="vulnerabilities.html">Attack Surface</a></li>
                        <li><a href="vulnerabilities.html">Vulnerabilities</a></li>
                        <li><a href="risk_assessment.html">Risk Register</a></li>
                    </ul>
                  </li>
                  <li><a><i class="fas fa-check-circle"></i> Compliance <span class="fas fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="compliance_soc2.html">SOC 2</a></li>
                      <li><a href="compliance_pci.html">PCI-DSS</a></li>
                      <li><a href="compliance_cmmc.html">CMMC L2</a></li>
                      <li><a href="compliance_iso27001.html">ISO 27001</a></li>
                    </ul>
                  </li>
                  <li><a href="evidence_vault.html"><i class="fas fa-archive"></i> Evidence Library</a></li>
                  <li><a href="remediation.html"><i class="fas fa-lightbulb"></i> Remediation Center</a></li>
                </ul>
              </div>
            </div>
            <!-- /sidebar menu -->
          </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fas fa-bars"></i></a>
              </div>
              <nav class="nav navbar-nav">
              <ul class="navbar-right">
                <li class="nav-item dropdown open" style="padding-left: 15px;">
                  <a href="javascript:;" class="user-profile dropdown-toggle" aria-haspopup="true" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="images/img.jpg" alt="">Admin User
                  </a>
                  <div class="dropdown-menu dropdown-usermenu float-end" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="javascript:;">Profile</a>
                    <a class="dropdown-item" href="login.html"><i class="fas fa-sign-out-alt float-end"></i> Log Out</a>
                  </div>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          
          <!-- Title -->
          <div class="page-title">
            <div class="title_left">
              <h3>Evidence Vault <small>Secure Repository & Chain of Custody</small></h3>
            </div>
          </div>
          <div class="clearfix"></div>

          <!-- Hero: Vault Stats -->
          <div class="row">
            <div class="col-md-3 col-sm-6">
                <div class="x_panel tile fixed_height_150">
                    <div class="x_title">
                        <h2>Total Evidence</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content text-center">
                        <i class="fas fa-file-contract fa-3x text-primary"></i>
                        <h3 class="mt-2">2,315</h3>
                        <small>Files Stored</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="x_panel tile fixed_height_150">
                    <div class="x_title">
                        <h2>Freshness Risk</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content text-center">
                        <i class="fas fa-hourglass-end fa-3x text-warning"></i>
                        <h3 class="mt-2 text-warning">42</h3>
                        <small>Expiring < 7 Days</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="x_panel tile fixed_height_150">
                    <div class="x_title">
                        <h2>Integrity Status</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content text-center">
                        <i class="fas fa-fingerprint fa-3x text-success"></i>
                        <h3 class="mt-2 text-success">100%</h3>
                        <small>Hashes Verified</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6">
                <div class="x_panel tile fixed_height_150">
                    <div class="x_title">
                        <h2>Storage</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content text-center">
                        <i class="fas fa-database fa-3x text-secondary"></i>
                        <h3 class="mt-2">45 GB</h3>
                        <small>Encrypted S3</small>
                    </div>
                </div>
            </div>
          </div>

          <!-- Main Visuals -->
          <div class="row">
            <!-- Left: Freshness Scatter Plot -->
            <div class="col-md-6 col-sm-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Evidence Freshness Engine</h2>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <div id="echart_scatter" style="height: 350px;"></div>
                  <div class="text-center text-muted"><small>X: Collection Date | Y: Validity Period (Days)</small></div>
                </div>
              </div>
            </div>

            <!-- Right: Chain of Custody Graph -->
            <div class="col-md-6 col-sm-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Chain of Custody Graph</h2>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <div id="echart_graph" style="height: 350px;"></div>
                  <div class="text-center text-muted"><small>Link Analysis: Evidence > Control > Standard</small></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Bottom: Types & List -->
          <div class="row">
            <div class="col-md-4 col-sm-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Evidence Types</h2>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <canvas id="chart_types" height="250"></canvas>
                </div>
              </div>
            </div>

            <div class="col-md-8 col-sm-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Recent Collections</h2>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>File Name</th>
                        <th>Source</th>
                        <th>Mapped Control</th>
                        <th>Collection Date</th>
                        <th>Hash</th>
                        <th>Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><i class="fas fa-file-pdf text-danger"></i> AWS_Config_Report_Q1.pdf</td>
                        <td>AWS API</td>
                        <td>CC6.1</td>
                        <td>Today, 09:45</td>
                        <td><code>a1b2...e4f5</code></td>
                        <td><a href="#" class="btn btn-sm btn-light"><i class="fas fa-download"></i></a></td>
                      </tr>
                      <tr>
                        <td><i class="fas fa-file-alt text-primary"></i> Access_Logs_Jan.csv</td>
                        <td>Okta</td>
                        <td>CC6.7</td>
                        <td>Yesterday, 14:20</td>
                        <td><code>c3d4...g7h8</code></td>
                        <td><a href="#" class="btn btn-sm btn-light"><i class="fas fa-download"></i></a></td>
                      </tr>
                      <tr>
                        <td><i class="fas fa-image text-info"></i> Screen_Lock_Policy.png</td>
                        <td>Manual</td>
                        <td>CC8.1</td>
                        <td>Jan 12, 2026</td>
                        <td><code>9i0j...k1l2</code></td>
                        <td><a href="#" class="btn btn-sm btn-light"><i class="fas fa-download"></i></a></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

        </div>
        <!-- /page content -->

        <!-- footer content -->
        <footer>
          <div class="float-end">
            RISQIANT - Continuous Security Platform
          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    </div>

    <!-- Vault Logic -->
    <script type="module">
      document.addEventListener('DOMContentLoaded', function() {
        if (typeof echarts === 'undefined') return;

        // 1. Freshness Scatter Plot
        const scatterChart = echarts.init(document.getElementById('echart_scatter'));
        
        // Mock Data: [Days Since Collection, Validity Remaining]
        const data = [
            [2, 88, 'Strong'], [5, 85, 'Strong'], [15, 75, 'Good'], [28, 62, 'Good'],
            [45, 45, 'Warning'], [60, 30, 'Warning'], [85, 5, 'Critical'], [88, 2, 'Critical'],
            [10, 80, 'Strong'], [20, 70, 'Good'], [80, 10, 'Critical']
        ];

        scatterChart.setOption({
            tooltip: {
                formatter: (p) => `${p.value[2]} Evidence<br>Age: ${p.value[0]} days<br>Remains: ${p.value[1]} days`
            },
            xAxis: { name: 'Age (Days)', splitLine: { show: false } },
            yAxis: { name: 'Validity (Days)', splitLine: { show: false } },
            visualMap: {
                min: 0, max: 90,
                dimension: 1, // Color based on Validity
                orient: 'horizontal',
                right: 'center',
                top: 0,
                text: ['Fresh', 'Stale'],
                inRange: { color: ['#E74C3C', '#F39C12', '#26B99A'] }
            },
            series: [{
                type: 'scatter',
                symbolSize: 15,
                data: data
            }]
        });

        // 2. Chain of Custody Graph
        const graphChart = echarts.init(document.getElementById('echart_graph'));
        graphChart.setOption({
            tooltip: {},
            animationDurationUpdate: 1500,
            animationEasingUpdate: 'quinticInOut',
            series: [
                {
                    type: 'graph',
                    layout: 'force',
                    symbolSize: 40,
                    roam: true,
                    label: { show: true },
                    edgeSymbol: ['circle', 'arrow'],
                    edgeSymbolSize: [4, 10],
                    force: { repulsion: 250 },
                    data: [
                        { name: 'CC6.1', category: 0, symbolSize: 50 },
                        { name: 'CC6.7', category: 0, symbolSize: 50 },
                        { name: 'AWS Config', category: 1 },
                        { name: 'Okta Logs', category: 1 },
                        { name: 'Jira Ticket', category: 1 },
                        { name: 'Auditor A', category: 2, symbolSize: 30 },
                        { name: 'Auditor B', category: 2, symbolSize: 30 }
                    ],
                    links: [
                        { source: 'AWS Config', target: 'CC6.1' },
                        { source: 'Okta Logs', target: 'CC6.7' },
                        { source: 'Jira Ticket', target: 'CC6.1' },
                        { source: 'CC6.1', target: 'Auditor A' },
                        { source: 'CC6.7', target: 'Auditor B' }
                    ],
                    categories: [{ name: 'Control' }, { name: 'Evidence' }, { name: 'Auditor' }],
                    lineStyle: { opacity: 0.9, width: 2, curveness: 0 }
                }
            ]
        });

        // 3. Evidence Types Doughnut (Chart.js)
        if (typeof Chart !== 'undefined') {
            new Chart(document.getElementById('chart_types'), {
                type: 'doughnut',
                data: {
                    labels: ['Logs', 'Configurations', 'Screenshots', 'Policies'],
                    datasets: [{
                        data: [45, 30, 15, 10],
                        backgroundColor: ['#3498DB', '#26B99A', '#F39C12', '#9B59B6']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { position: 'bottom' } }
                }
            });
        }

        window.addEventListener('resize', () => {
            scatterChart.resize();
            graphChart.resize();
        });
      });
    </script>
  </body>
</html>
